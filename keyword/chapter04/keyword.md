# Spring 개념 정리
## DI

객체가 단독으로 존재하는 경우도 있지만, 로직을 구현하면서 필연적으로 객체끼리 의존성을 지니게 되는 경우가 생기게 된다.

이렇게 의존성이 존재하는 경우 의존성을 외부에서 주입받는 것이 확장성이나 유지보수 등을 고려할 때 부담을 줄여주는 등 바람직한 방식이다.

스프링에서 의존성 주입은

생성자 주입
setter 주입
필드 주입
3가지 방식이 있는데, 권장되는 방식은 생성자 주입 방식이다.
종속성을 나타내는 인수로 생성자를 호출하여 객체를 생성하는 방식이다.
객체의 생성과 동시에 필요한 의존성을 모두 설정해줄 수 있다.

Setter 방식은 런타임에 의존성을 주입하는 방식이다.
의존성이 없어도 객체가 생성된다.
선택적으로 의존성 주입이 가능해지지만, 필수적인 의존성이 주입되어야 할 때 강제할 수가 없다.
NullPointException 에러 가능성도 존재한다.

필드 주입 방식 역시 런타임에 의존성을 주입하며, 의존성이 없어도 객체가 생성된다.
코드는 깔끔하고 단순하지만, 테스트 중 의존성 주입이 어렵고, 명시적으로 드러나는 의존성이 없다.
무엇보다 의존성 관계가 드러나지 않아 스프링 컨테이너를 헷갈리게 해서 Bean들 간의 순환 참조 문제가 발생할 수 있다.

## IoC

IoC는 프로그램의 흐름을 개발자가 아닌 외부 컨테이너가 제어하도록 하는 디자인 원칙이다.

원래 객체는 개발자가 작성한 코드를 토대로, 자신(객체)의 의존성을 직접 관리하고 필요한 경우 다른 객체를 생성하여 사용한다.
객체의 생명주기(생성, 초기화, 소멸, 메서드 호출 등)를 클라이언트 구현 객체가 직접 관리한다.
다른 라이브러리(외부 코드)를 호출하더라도 해당 코드의 호출 시점 역시 직접 관리한다.

그러나 IoC에서는 의존성 관리의 제어권을 개발자가 아닌 컨테이너(Spring)에게 맡긴다.

Spring IoC 컨테이너는 IoC 개념을 구현한 프레임워크로, 객체의 생성과 의존성 주입을 관리한다.
즉, Spring에서 필요한 객체들은 컨테이너가 생성하고, 설정된 의존성을 컨테이너가 직접 주입해주기 때문에 개발자는 객체 간 의존성을 관리할 필요 없이 객체의 선언과 사용에만 집중할 수 있고 코드의 결합도가 낮아져 테스트와 유지보수가 용이해진다.

## 프레임워크와 API의 차이

FrameWork -> 기본 뼈대 혹은 '틀'이라는 의미로 쓰인다.
개발자가 처음부터 모든 것을 개발할 수 있지만, 프레임워크를 사용하면 원하는 기능에만 집중하여 구현할 수 있다.

프레임워크는 특정 개발 패턴을 따라 코드 구조를 제어하고, 개발자가 작성한 코드를 호출하면서 일종의 골격을 제공한다.

API -> 특정 기능을 사용할 수 있도록 미리 정의된 함수와 메서드의 집합으로 개발자가 필요할 때마다 호출하여 사용한다.

프레임워크는 전체 애플리케이션 구조에 영향을 미치며 개발 흐름을 결정하는 반면, API는 특정 기능이나 작업을 수행하기 위해 필요한 도구를 제공한다.

## AOP

AOP(Aspect-Oriented Programming, 관점 지향 프로그래밍)은 코드의 공통적인 기능을 핵심 로직과 분리하여 관리하는 기법이다. ex) 로깅, 트랜잭션 관리 등

핵심 로직 외의 부가 기능을 Aspect로 정의하고 이를 특정 지점에 적용해 중복을 줄인다.

코드 재사용성 및 가독성 향상을 통해 유지보수를 용이하게 할 수 있다.

스프링에서는 주로 어노테이션을 통해 AOP를 구현하며 트랜잭션 관리나 보안 검사를 쉽게 추가하는 데 유용하게 사용된다.

예시 서비스_LoggingAspect
```
import org.aspectj.lang.annotation.Aspect;
import org.aspectj.lang.annotation.Before;
import org.aspectj.lang.annotation.After;
import org.springframework.stereotype.Component;

@Aspect
@Component
public class LoggingAspect {

    @Before("execution(* com.example.service.*.*(..))")
    public void logBeforeMethod() {
        System.out.println("메서드 실행 전: 로깅 시작");
    }

    @After("execution(* com.example.service.*.*(..))")
    public void logAfterMethod() {
        System.out.println("메서드 실행 후: 로깅 종료");
    }
}
```

```
import org.springframework.stereotype.Service;

@Service
public class UserService {
    public void createUser() {
        System.out.println("사용자 생성 중...");
    }
}
```
## 서블릿

서블릿은 웹 애플리케이션에서 클라이언트의 요청을 처리하고, 그에 대한 응답을 생성하는 역할을 한다. 자바에서 웹 애플리케이션을 만들 때 서블릿을 통해 HTTP 요청을 처리할 수 있다.

서블릿을 통해 서블릿을 관리할 수 있으며, 대표적으로 아파치 톰캣 등이 있다. 톰캣은 웹서버와 통신하여 JSP와 서블릿이 작동하는 환경을 제공해준다.